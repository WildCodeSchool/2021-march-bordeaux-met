{% extends 'layout.html.twig' %}
{% block title %}
    {{ parent() }} - Score
{% endblock %}
{% block content %}

    <div class="container  img-car mt-5" >
        <div class="row h-100 border-bottom border-dark">
            <div class="col-4 d-flex flex-column justify-content-end align-items-center  text-primary h-100">
                {% if scores|length > 1 %}
                <img src="/assets/images/avatar{{ scores[1].avatar_id }}.png" alt="{{ scores[1].avatar_id }}" class="img-fluid w-50">
                <p>{{ scores[1].pseudo }}</p>
                <p>{{ scores[1].best_score}}  </p>
                {% endif %}
                <div class="bg-primary h-25 w-100 mx-0 text-center rounded-top "><span class="display-4 text-secondary">2</span></div>
            </div>
            <div class="col-4 d-flex flex-column justify-content-end align-items-center text-primary h-100">
                {% if scores|length > 0 %}
                <img src="/assets/images/avatar{{ scores[0].avatar_id }}.png" alt="{{ scores[0].avatar_id }}" class="img-fluid w-50">
                <p>{{ scores[0].pseudo }}</p>
                <p>{{ scores[0].best_score}}  </p>
                {% else %}
                    <p>Soyez le premier Ã  jouer</p>
                {% endif %}
                <div class="bg-primary h-50 w-100 mx-0 text-center rounded-top "><span class="display-4 text-secondary">1</span></div>
            </div>
            <div class="col-4 d-flex flex-column justify-content-end align-items-center text-primary h-100">
                {% if scores|length > 2 %}
                <img src="/assets/images/avatar{{ scores[2].avatar_id }}.png" alt="{{ scores[2].avatar_id }}" class="img-fluid w-50">
                <p>{{ scores[2].pseudo }}</p>
                <p>{{ scores[2].best_score}}</p>
                {% endif %}
                <div class="bg-primary h-10 w-100 mx-0 text-center rounded-top"><span class="display-4 text-secondary ">3</span></div>
            </div>
        </div>
    </div>
    <div class="container w-25" >
        <form action="" method="POST">
            <div class="input-group">
                <select name = "idDepartmentSelected" class="custom-select w-50" id="inputGroupSelect04" aria-label="Example select with button addon">
                    {% for department in  departments|slice(0,12) %}
                    {% set selected = ''%}
                        {% if department.id ==  idSelected %}
                            {{ department.id }} = {{ idSelected }}
                            {% set selected = 'selected'%}
                        {% endif %}
                        <option {{ selected }} value={{ department.id }}>{{ department.title }}</option>
                    {% endfor %}
                </select>
                <div class="input-group-append">
                    <button class="btn btn-outline-secondary" type="submit">ok</button>
                </div>
            </div>
        </form>
        <table class="table table-sm mt-5 table-secondary">

            <tbody>
                {% for score in scores|slice(3,50) %}
                    <tr>
                        <th scope="row">{{ loop.index +3 }}</th>
                        <td><img src="/assets/images/avatar{{ score.avatar_id }}.png" class="w-25"></td>
                        <td>{{ score.pseudo }}</td>
                        <td>{{ score.best_score }}</td>
                    </tr>

                {% endfor %}


            </tbody>
        </table>
    </div>
{% endblock %}